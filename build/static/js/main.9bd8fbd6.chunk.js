(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3VrP4",dialogsItems:"Dialogs_dialogsItems__1mWLn",active:"Dialogs_active__jwEHR",messages:"Dialogs_messages__22xKR",message:"Dialogs_message__spwBI"}},25:function(e,t,a){e.exports={userPhoto:"Users_userPhoto__1TXCW",selectedPage:"Users_selectedPage__1HM0T",pagination:"Users_pagination__2SfZn"}},30:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__3OR9R",posts:"MyPosts_posts__2ulrD"}},31:function(e,t,a){e.exports={header:"Header_header__1-yrN",loginBlock:"Header_loginBlock__2XLBe"}},44:function(e,t,a){e.exports=a.p+"static/media/user.ce8e7ab8.png"},45:function(e,t,a){e.exports=a.p+"static/media/preloader.9e67f9d8.svg"},46:function(e,t,a){e.exports={content:"Profile_content__2k48t"}},47:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__SE5r-"}},48:function(e,t,a){e.exports={item:"Post_item__yt21S"}},49:function(e,t,a){e.exports=a(78)},5:function(e,t,a){e.exports={nav:"Navbar_nav__2W78m",item:"Navbar_item__3mk02",activeLink:"Navbar_activeLink__1WKYn"}},54:function(e,t,a){},55:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),c=(a(54),a(17)),l=(a(55),a(3)),i=a(5),u=a.n(i),m=function(){return r.a.createElement("nav",{className:u.a.nav},r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/profile",activeClassName:u.a.activeLink},"Profile")),r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/dialogs",activeClassName:u.a.activeLink},"Messages")),r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/users",activeClassName:u.a.activeLink},"Users")),r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/news",activeClassName:u.a.activeLink},"News")),r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/music",activeClassName:u.a.activeLink},"Music")),r.a.createElement("div",{className:u.a.item},r.a.createElement(l.b,{to:"/settings",activeClassName:u.a.activeLink},"Settings")))},p=a(8),d=a(9),g=a(12),f=a(10),E=a(13),h=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Settings")}}]),t}(n.Component),v=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Newss")}}]),t}(n.Component),b=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Music")}}]),t}(n.Component),_=a(24),O=a(2),P={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Bye"},{id:4,message:"You"},{id:5,message:"You"},{id:6,message:"You"}],newMessageBody:""},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_MESSAGE_BODY":return Object(O.a)({},e,{newMessageBody:t.body});case"SEND_MESSAGE":var a=e.newMessageBody;return Object(O.a)({},e,{newMessageBody:"",messages:[].concat(Object(_.a)(e.messages),[{id:6,message:a}])});default:return e}},y=a(16),k=a.n(y),w=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:"".concat(k.a.dialog," ").concat(k.a.active)},r.a.createElement(l.b,{to:t}," ",e.name," "))},N=function(e){return r.a.createElement("div",{className:k.a.message}," ",e.message," ")},S=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return r.a.createElement(w,{name:e.name,key:e.id,id:e.id})})),n=t.messages.map((function(e){return r.a.createElement(N,{key:e.id,message:e.message})})),s=t.newMessageBody;return r.a.createElement("div",{className:k.a.dialogs},r.a.createElement("div",{className:k.a.dialogsItems},a),r.a.createElement("div",{className:k.a.messages},r.a.createElement("div",null,n),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("textarea",{value:s,onChange:function(t){var a=t.target.value;e.updateNewMessageBody(a)},placeholder:"Enter"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.sendMessage()}},"Send")))))},C=a(11),T=Object(C.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:"UPDATE_NEW_MESSAGE_BODY",body:e}}(t))},sendMessage:function(){e({type:"SEND_MESSAGE"})}}}))(S),U={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(O.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(O.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(O.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(O.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(O.a)({},e,{isFetching:t.isFetching});default:return e}},L=a(18),D=a(25),x=a.n(D),F=a(44),I=a.n(F),M=function(e){Math.ceil(e.totalUsersCount/e.pageSize);for(var t=[],a=1;a<=10;a++)t.push(a);return r.a.createElement("div",null,r.a.createElement("div",{className:x.a.pagination},t.map((function(t){return r.a.createElement("span",{key:t,onClick:function(){e.onPageChanged(t)},className:e.currentPage===t?x.a.selectedPage:""},t)}))),e.users.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(l.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:I.a,className:x.a.userPhoto,alt:"fds"}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null," ",t.name," "),r.a.createElement("div",null," ",t.status," ")),r.a.createElement("span",null,r.a.createElement("div",null," ","u.location.country"," "),r.a.createElement("div",null," ","u.location.city"," "))))})))},B=a(45),R=a.n(B),G=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:R.a,alt:"preloader"}))},W=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.toggleIsFetching(!0),a.props.setCurrentPage(e),L.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(a.props.pageSize)).then((function(e){a.props.toggleIsFetching(!1),a.props.setUsers(e.data.items)}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),L.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setUsersTotalCount(t.data.totalCount)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(G,null):null,r.a.createElement(M,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),t}(n.Component),H=Object(C.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:"FOLLOW",userId:e}},unfollow:function(e){return{type:"UNFOLLOW",userId:e}},setUsers:function(e){return{type:"SET_USERS",users:e}},setUsersTotalCount:function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},toggleIsFetching:function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}}})(W),z={posts:[{id:1,messages:"Hi, how are you?",likesCount:12},{id:2,messages:"First post",likesCount:11}],profile:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,messages:e.newPostText,likesCount:0};return Object(O.a)({},e,{posts:[].concat(Object(_.a)(e.posts),[a]),newPostText:""});case"UPDATE_NEW_POST_TEXT":return Object(O.a)({},e,{newPostText:t.newText});case"SET_USER_PROFILE":return Object(O.a)({},e,{profile:t.profile});default:return e}},J=a(46),X=a.n(J),V=a(47),K=a.n(V),Z=function(e){if(!e.profile)return r.a.createElement(G,null);var t=e.profile,a=t.fullName,n=t.aboutMe,s=t.facebook,o=void 0===s?"facebook.com":s,c=t.lookingForAJob,l=t.lookingForAJobDescription;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://focus.ua/storage/pub/images/2017/2615387.jpg",alt:"ProfileInfo"})),r.a.createElement("div",{className:K.a.descriptionBlock},r.a.createElement("img",{src:e.profile.photos.large,alt:"avatar"}),"ava + description"),r.a.createElement("div",null,r.a.createElement("p",null," \u0418\u043c\u044f: ",a," "),r.a.createElement("p",null," \u041e\u0431\u043e \u043c\u043d\u0435: ",n||"\u041d\u0435\u0447\u0435\u0433\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c"," "),r.a.createElement("p",null," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:",r.a.createElement("a",{href:"facebook.com"}," ",o),"  "),r.a.createElement("p",null," \u0420\u0430\u0431\u043e\u0442\u0430: ",!0===c?l:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"," ")))},q=a(30),Q=a.n(q),$=a(48),ee=a.n($),te=function(e){return r.a.createElement("div",{className:ee.a.item},r.a.createElement("img",{src:"https://cdn.worldvectorlogo.com/logos/50x50.svg",alt:"Post"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"Like ",e.countLike)),r.a.createElement("div",null,r.a.createElement("span",null,"Dislike")))},ae=function(e){var t=e.posts.map((function(e){return r.a.createElement(te,{key:e.id,message:e.messages,countLike:e.likesCount})})),a=r.a.createRef();return r.a.createElement("div",{className:Q.a.postsBlock},r.a.createElement("h3",null,"My posts"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("textarea",{onChange:function(){var t=a.current.value;e.updateNewPostText(t)},ref:a,value:e.newPostText})),r.a.createElement("button",{onClick:function(){e.addPost()}},"Add post")),r.a.createElement("div",{className:Q.a.posts},t))},ne=Object(C.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(t){e(function(e){return{type:"UPDATE_NEW_POST_TEXT",newText:e}}(t))},addPost:function(){e({type:"ADD-POST"})}}}))(ae),re=function(e){return r.a.createElement("div",{className:X.a.content},r.a.createElement(Z,{profile:e.profile}),r.a.createElement(ne,{store:e.store}))},se=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t=7298),L.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement(re,Object.assign({},this.props,{profile:this.props.profile}))}}]),t}(n.Component),oe=Object(c.e)(se),ce=Object(C.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}}})(oe),le=a(31),ie=a.n(le),ue=function(e){return r.a.createElement("header",{className:ie.a.header},r.a.createElement("img",{src:"https://cdn.worldvectorlogo.com/logos/50x50.svg",alt:"Header"}),r.a.createElement("div",{className:ie.a.loginBlock},e.isAuth?e.login:r.a.createElement(l.b,{to:"/login"},"Login")))},me={userId:null,email:null,login:null,isAuth:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_DATA":return Object(O.a)({},e,{},t.data,{isAuth:!0});default:return e}},de=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,s=a.login;e.props.setAuthUserData(n,r,s)}}))}},{key:"render",value:function(){return r.a.createElement(ue,this.props)}}]),t}(n.Component),ge=Object(C.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:pe})(de),fe=function(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ge,null),r.a.createElement(m,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(c.a,{path:"/profile/:userId?",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(c.a,{path:"/dialogs",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(c.a,{path:"/users",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(c.a,{path:"/news",render:function(){return r.a.createElement(v,null)}}),r.a.createElement(c.a,{path:"/music",render:function(){return r.a.createElement(b,null)}}),r.a.createElement(c.a,{path:"/settings",render:function(){return r.a.createElement(h,null)}})))},Ee=a(21),he={},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;arguments.length>1&&arguments[1];return e},be=Object(Ee.b)({profilePage:Y,dialogsPage:j,sidebar:ve,usersPage:A,auth:pe}),_e=Object(Ee.c)(be);window.store=_e;var Oe=_e;o.a.render(r.a.createElement(l.a,null,r.a.createElement(C.a,{store:Oe},r.a.createElement(fe,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.9bd8fbd6.chunk.js.map